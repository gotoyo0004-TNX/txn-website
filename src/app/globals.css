/* =============================================
   TXN 品牌設計系統 - 全域樣式
   基於產品開發總計畫書的設計語言
   ============================================= */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================
   CSS 自定義屬性 - TXN 色彩計畫
   ============================================= */

:root {
  /* 主色調 - 深邃科技藍 */
  --txn-primary: #1A202C;
  --txn-primary-50: #F7FAFC;
  --txn-primary-100: #EDF2F7;
  --txn-primary-200: #E2E8F0;
  --txn-primary-300: #CBD5E0;
  --txn-primary-400: #A0AEC0;
  --txn-primary-500: #718096;
  --txn-primary-600: #4A5568;
  --txn-primary-700: #2D3748;
  --txn-primary-800: #1A202C;
  --txn-primary-900: #171923;

  /* 強調色 - 活力金 */
  --txn-accent: #FBBF24;
  --txn-accent-50: #FFFBEB;
  --txn-accent-100: #FEF3C7;
  --txn-accent-200: #FDE68A;
  --txn-accent-300: #FCD34D;
  --txn-accent-400: #FBBF24;
  --txn-accent-500: #F59E0B;
  --txn-accent-600: #D97706;
  --txn-accent-700: #B45309;
  --txn-accent-800: #92400E;
  --txn-accent-900: #78350F;

  /* 語意色 - 獲利（沉穩森林綠） */
  --txn-profit: #228B22;
  --txn-profit-50: #F0FDF4;
  --txn-profit-100: #DCFCE7;
  --txn-profit-200: #BBF7D0;
  --txn-profit-300: #86EFAC;
  --txn-profit-400: #4ADE80;
  --txn-profit-500: #22C55E;
  --txn-profit-600: #228B22;
  --txn-profit-700: #15803D;
  --txn-profit-800: #166534;
  --txn-profit-900: #14532D;

  /* 語意色 - 虧損（冷靜緋紅） */
  --txn-loss: #DC143C;
  --txn-loss-50: #FEF2F2;
  --txn-loss-100: #FEE2E2;
  --txn-loss-200: #FECACA;
  --txn-loss-300: #FCA5A5;
  --txn-loss-400: #F87171;
  --txn-loss-500: #EF4444;
  --txn-loss-600: #DC143C;
  --txn-loss-700: #B91C1C;
  --txn-loss-800: #991B1B;
  --txn-loss-900: #7F1D1D;

  /* 中性色調 */
  --txn-gray-50: #F9FAFB;
  --txn-gray-100: #F3F4F6;
  --txn-gray-200: #E5E7EB;
  --txn-gray-300: #D1D5DB;
  --txn-gray-400: #9CA3AF;
  --txn-gray-500: #6B7280;
  --txn-gray-600: #4B5563;
  --txn-gray-700: #374151;
  --txn-gray-800: #1F2937;
  --txn-gray-900: #111827;

  /* 字體家族 */
  --font-sans: 'Inter', 'Nunito Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  --font-mono: 'Roboto Mono', 'Fira Code', Consolas, 'Courier New', monospace;
}

/* =============================================
   深色模式變數
   ============================================= */

@media (prefers-color-scheme: dark) {
  :root {
    --txn-bg-primary: var(--txn-primary-800);
    --txn-bg-secondary: var(--txn-primary-700);
    --txn-text-primary: var(--txn-gray-100);
    --txn-text-secondary: var(--txn-gray-300);
  }
}

/* =============================================
   基礎元素樣式重置
   ============================================= */

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-feature-settings: 'rlig' 1, 'calt' 1;
  }

  /* 優化數字顯示 */
  .txn-numbers {
    font-family: var(--font-mono);
    font-feature-settings: 'tnum' 1; /* 等寬數字 */
    font-variant-numeric: tabular-nums;
  }

  /* 標題層級 */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-sans);
    font-weight: 600;
    line-height: 1.2;
  }

  h1 { @apply text-4xl lg:text-5xl; }
  h2 { @apply text-3xl lg:text-4xl; }
  h3 { @apply text-2xl lg:text-3xl; }
  h4 { @apply text-xl lg:text-2xl; }
  h5 { @apply text-lg lg:text-xl; }
  h6 { @apply text-base lg:text-lg; }
}

/* =============================================
   TXN 專用組件類別
   ============================================= */

@layer components {
  /* 主要按鈕 - 活力金強調 */
  .btn-primary {
    @apply bg-[#FBBF24] hover:bg-[#F59E0B] text-[#1A202C] font-medium px-6 py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5;
  }

  /* 次要按鈕 - 深邃科技藍 */
  .btn-secondary {
    @apply bg-[#1A202C] hover:bg-[#2D3748] text-white font-medium px-6 py-3 rounded-lg transition-all duration-200 border border-[#4A5568];
  }

  /* 獲利指標 */
  .profit-indicator {
    @apply text-[#228B22] bg-[#F0FDF4] px-2 py-1 rounded-md font-mono font-medium;
  }

  /* 虧損指標 */
  .loss-indicator {
    @apply text-[#DC143C] bg-[#FEF2F2] px-2 py-1 rounded-md font-mono font-medium;
  }

  /* 中性指標 */
  .neutral-indicator {
    @apply text-[#6B7280] bg-[#F3F4F6] px-2 py-1 rounded-md font-mono font-medium;
  }

  /* 主要卡片樣式 */
  .card-primary {
    @apply bg-white dark:bg-[#1A202C] border border-[#E5E7EB] dark:border-[#4A5568] rounded-xl shadow-lg hover:shadow-xl transition-all duration-200;
  }

  /* KPI 卡片 */
  .kpi-card {
    @apply card-primary p-6;
  }

  /* 數據表格 */
  .data-table {
    @apply w-full border-collapse bg-white dark:bg-[#1A202C] rounded-lg overflow-hidden shadow-lg;
  }

  .data-table th {
    @apply bg-[#F9FAFB] dark:bg-[#2D3748] text-[#374151] dark:text-[#E5E7EB] font-semibold text-left px-6 py-4 border-b border-[#E5E7EB] dark:border-[#4A5568];
  }

  .data-table td {
    @apply text-[#1F2937] dark:text-[#F3F4F6] px-6 py-4 border-b border-[#F3F4F6] dark:border-[#374151];
  }

  /* 表單輸入 */
  .input-primary {
    @apply w-full px-4 py-3 border border-[#D1D5DB] dark:border-[#4A5568] rounded-lg bg-white dark:bg-[#1A202C] text-[#1F2937] dark:text-[#F3F4F6] focus:ring-2 focus:ring-[#FBBF24] focus:border-[#FBBF24] transition-colors;
  }

  /* 標籤/徽章 */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }

  .badge-success {
    @apply badge bg-[#F0FDF4] text-[#228B22] border border-[#BBF7D0];
  }

  .badge-danger {
    @apply badge bg-[#FEF2F2] text-[#DC143C] border border-[#FECACA];
  }

  .badge-warning {
    @apply badge bg-[#FFFBEB] text-[#D97706] border border-[#FDE68A];
  }

  .badge-info {
    @apply badge bg-[#EDF2F7] text-[#4A5568] border border-[#CBD5E0];
  }

  /* 載入動畫 */
  .loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-4 border-[#E5E7EB] border-t-[#FBBF24];
  }

  /* 響應式容器 */
  .container-responsive {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* 漸層背景 */
  .gradient-primary {
    background: linear-gradient(135deg, #1A202C 0%, #2D3748 100%);
  }

  .gradient-accent {
    background: linear-gradient(135deg, #FBBF24 0%, #F59E0B 100%);
  }

  .gradient-profit {
    background: linear-gradient(135deg, #228B22 0%, #22C55E 100%);
  }

  .gradient-loss {
    background: linear-gradient(135deg, #DC143C 0%, #EF4444 100%);
  }
}

/* =============================================
   實用工具類別
   ============================================= */

@layer utilities {
  /* 文字效果 */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-[#1A202C] to-[#4A5568] bg-clip-text text-transparent;
  }

  .text-gradient-accent {
    @apply bg-gradient-to-r from-[#FBBF24] to-[#F59E0B] bg-clip-text text-transparent;
  }

  /* 陰影效果 */
  .shadow-txn-sm {
    box-shadow: 0 2px 4px rgba(26, 32, 44, 0.1);
  }

  .shadow-txn-md {
    box-shadow: 0 4px 8px rgba(26, 32, 44, 0.12), 0 2px 4px rgba(26, 32, 44, 0.08);
  }

  .shadow-txn-lg {
    box-shadow: 0 8px 16px rgba(26, 32, 44, 0.15), 0 4px 8px rgba(26, 32, 44, 0.1);
  }

  /* 專注狀態 */
  .focus-ring-txn {
    @apply focus:outline-none focus:ring-2 focus:ring-[#FBBF24] focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-[#1A202C];
  }

  /* 過渡效果 */
  .transition-txn {
    @apply transition-all duration-200 ease-in-out;
  }
}

/* =============================================
   響應式設計調整
   ============================================= */

@media (max-width: 640px) {
  .kpi-card {
    @apply p-4;
  }
  
  .data-table th,
  .data-table td {
    @apply px-3 py-2 text-sm;
  }
}

/* =============================================
   深色模式專用樣式
   ============================================= */

@media (prefers-color-scheme: dark) {
  .profit-indicator {
    @apply bg-[#14532D] text-[#4ADE80];
  }
  
  .loss-indicator {
    @apply bg-[#7F1D1D] text-[#F87171];
  }
  
  .neutral-indicator {
    @apply bg-[#374151] text-[#9CA3AF];
  }
}

/* =============================================
   列印樣式優化
   ============================================= */

@media print {
  .btn-primary,
  .btn-secondary {
    @apply bg-white text-black border border-black;
  }
  
  .card-primary {
    @apply border border-black shadow-none;
  }
}